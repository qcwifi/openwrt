#!/bin/sh

. /lib/functions/uci-defaults.sh

set_wifi_led() {
	ucidef_set_led_netdev "wifi_led" "wifi" "${1}" "${2:-wlan0}"
}


board=$(board_name)
boardname="${board##*,}"

board_config_update

case $board in
hilink,hlk-7628n)
	set_wifi_led "$boardname:green:wlan"
	;;
hiwifi,hc5861b)
	set_wifi_led "$boardname:green:wlan2g"
	;;
gl-mt300a|\
gl-mt300n|\
gl-mt750)
	set_wifi_led "$boardname:wlan"
	;;
gl-mt300n-v2)
	set_wifi_led "$boardname:red:wlan"
	ucidef_set_led_switch "wan" "wan" "$boardname:green:wan" "switch0" "0x1"
	;;
hc5661|\
hc5661a)
	ucidef_set_led_netdev "internet" "internet" "$boardname:blue:internet" "eth0.2"
	set_wifi_led "$boardname:blue:wlan2g"
	;;
hc5761|\
hc5861)
	ucidef_set_led_netdev "internet" "internet" "$boardname:blue:internet" "eth0.2"
	ucidef_set_led_netdev "wifi5g" "wifi5g" "$boardname:blue:wlan5g" "wlan0"
	ucidef_set_led_netdev "wifi2g" "wifi2g" "$boardname:blue:wlan2g" "wlan1"
	;;
hg255d)
	set_wifi_led "$boardname:green:wlan"
	ucidef_set_led_netdev "internet" "internet" "$boardname:green:internet" "eth0.2"
	;;
gehua,ghl-r-001|\
pbr-m1)
	ucidef_set_led_netdev "internet" "internet" "$boardname:blue:internet" "eth0.2"
	;;
d-team,newifi-d2)
	ucidef_set_led_switch "internet" "internet" "$boardname:amber:internet" "switch0" "0x10"
	ucidef_set_led_netdev "wlan2g" "WiFi 2.4GHz" "$boardname:blue:wlan2g" "wlan0"
	ucidef_set_led_netdev "wlan5g" "WiFi 5GHz" "$boardname:blue:wlan5g" "wlan1"
	;;
psg1208)
	set_wifi_led "$boardname:white:wlan2g"
	;;
tplink,tl-wr842n-v5)
	ucidef_set_led_wlan "wlan2g" "wlan2g" "$boardname:green:wlan" "phy0tpt"
	ucidef_set_led_switch "lan" "lan" "$boardname:green:lan" "switch0" "0x1e"
	ucidef_set_led_switch "wan" "wan" "$boardname:green:wan" "switch0" "0x01"
	;;
u7628-01-128M-16M)
	ucidef_set_led_switch "lan1" "lan1" "u7628-01:green:lan1" "switch0" "0x2"
	ucidef_set_led_switch "lan2" "lan2" "u7628-01:green:lan2" "switch0" "0x4"
	ucidef_set_led_switch "lan3" "lan3" "u7628-01:green:lan3" "switch0" "0x8"
	ucidef_set_led_switch "lan4" "lan4" "u7628-01:green:lan4" "switch0" "0x10"
	ucidef_set_led_switch "wan" "wan" "u7628-01:green:wan" "switch0" "0x01"
	set_wifi_led "u7628-01:green:wlan"
	;;
xiaomi,mir3g)
	ucidef_set_led_switch "wan-amber"  "WAN (amber)"  "$boardname:amber:wan"  "switch0" "0x02" "0x08"
	ucidef_set_led_switch "lan1-amber" "LAN1 (amber)" "$boardname:amber:lan1" "switch0" "0x08" "0x08"
	ucidef_set_led_switch "lan2-amber" "LAN2 (amber)" "$boardname:amber:lan2" "switch0" "0x04" "0x08"
	;;
xiaomi,mir3p)
	ucidef_set_led_switch "wan-amber"  "WAN (amber)"  "$boardname:amber:wan"  "switch0" "0x10" "0x08"
	ucidef_set_led_switch "lan1-amber" "LAN1 (amber)" "$boardname:amber:lan1" "switch0" "0x02" "0x08"
	ucidef_set_led_switch "lan2-amber" "LAN2 (amber)" "$boardname:amber:lan2" "switch0" "0x04" "0x08"
	ucidef_set_led_switch "lan3-amber" "LAN3 (amber)" "$boardname:amber:lan3" "switch0" "0x08" "0x08"
	;;
y1)
	ucidef_set_led_netdev "wifi" "WIFI" "$boardname:blue:wifi" "wlan1"
	ucidef_set_led_netdev "wifi5g" "WIFI5G" "$boardname:blue:wifi5g" "wlan0"
	ucidef_set_led_switch "lan" "LAN" "$boardname:blue:lan" "switch0" "0x03"
	;;
y1s)
	ucidef_set_led_netdev "wifi" "WIFI" "$boardname:yellow:wifi" "wlan1"
	ucidef_set_led_netdev "wifi5g" "WIFI5G" "$boardname:blue:wifi" "wlan0"
	ucidef_set_led_netdev "wan" "WAN" "$boardname:blue:internet" "eth0.2" "tx rx"
	;;
youhua,wr1200js)
	ucidef_set_led_switch "internet" "INTERNET" "$boardname:green:wan" "switch0" "0x01"
	;;
youku-yk1)
	set_wifi_led "$boardname:blue:air"
	ucidef_set_led_switch "wan" "wan" "$boardname:blue:wan" "switch0" "0x10"
	;;
esac

board_config_flush

exit 0
